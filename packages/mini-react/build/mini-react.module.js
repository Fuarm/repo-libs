function e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.apply(this,arguments)}function t(e){return{type:"TEXT_ELEMENT",props:{nodeValue:e,children:[]}}}var n=null,r=null,o=null,i=null,l=null,a=function(e){return"children"!==e},u=function(e,t){return function(n){return e[n]!==t[n]}},c=function(e){return e.startsWith("on")};function f(e,t,n){var r;Object.keys(t).filter(a).filter((r=n,function(e){return!(e in r)})).forEach(function(t){return e[t]=""}),Object.keys(n).filter(a).filter(u(t,n)).forEach(function(t){return e[t]=n[t]}),Object.keys(t).filter(c).filter(function(e){return!(e in n)||u(t,n)(e)}).forEach(function(n){var r=n.toLowerCase().substring(2);e.removeEventListener(r,t[n])}),Object.keys(n).filter(c).filter(u(t,n)).forEach(function(t){var r=t.toLowerCase().substring(2);e.addEventListener(r,n[t])})}function p(e,t){e.dom?t.removeChild(e.dom):p(e.child,t)}function s(e){if(e){for(var t=e.parent;!t.dom;)t=t.parent;var n=t.dom;"PLACEMENT"===e.effectTag&&null!==e.dom?n.appendChild(e.dom):"UPDATE"===e.effectTag&&null!==e.dom?f(e.dom,e.alternate.props,e.props):"DELETION"===e.effectTag&&p(e,n),s(e.child),s(e.sibling)}}function d(e){if(e&&e.type&&e.type instanceof Function?function(e){r=e;var t=[e.type(e.props)];r.hooks=[],h(e,t)}(e):function(e){e.dom||(e.dom=function(e){var t="TEXT_ELEMENT"===e.type?document.createTextNode(""):document.createElement(e.type);return f(t,{},e.props),t}(e)),h(e,e.props.children)}(e),e.child)return e.child;for(var t=e;t;){if(t.sibling)return t.sibling;t=t.parent}}function h(e,t){for(var n=0,r=e.alternate&&e.alternate.child,o=null;n<t.length||null!=r;){var i=t[n],a=null,u=r&&i&&i.type===r.type;u&&(a={type:r.type,props:i.props,dom:r.dom,parent:e,alternate:r,effectTag:"UPDATE"}),!u&&i&&(a={type:i.type,props:i.props,dom:null,parent:e,alternate:null,effectTag:"PLACEMENT"}),!u&&r&&(r.effectTag="DELETION",l.push(r)),r&&(r=r.sibling),0===n?e.child=a:i&&(o.sibling=a),o=a,n++}}requestIdleCallback(function e(t){for(var r=!1;n&&!r;)n=d(n),console.log("deadlineðŸš—",t.timeRemaining()),console.log("ðŸŒ²",n),r=t.timeRemaining()<1;!n&&o&&(l.forEach(s),s(o.child),i=o,o=null),requestIdleCallback(e)});var E={createElement:function(n,r){return{type:n,props:e({},r,{children:[].slice.call(arguments,2).map(function(e){return"object"==typeof e?e:t(e)})})}},render:function(e,t){l=[],n=o={dom:t,props:{children:[e]},alternate:i}},useState:function(e){var t=r.alternate&&r.alternate.hook,a={state:t?t.state:e,queue:[]};return(t?t.queue:[]).forEach(function(e){a.state=e(a.state)}),r.hook=a,[a.state,function(e){a.queue.push(e),n=o={dom:i.dom,props:i.props,alternate:i},l=[]}]}};export{E as default};
//# sourceMappingURL=mini-react.module.js.map
